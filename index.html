<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>Темп малювання</title>
    <style>
        body {
            background: #f8f9fb;
            font-family: 'Inter', system-ui, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            min-height: 100vh;
            padding-top: 40px;
            color: #0a0a0a;
        }

        #output-label {
            font-weight: 500;
            font-size: 1rem;
            color: #5f5f5f;
        }

        #output-value {
            font-size: 4rem;
            font-weight: 700;
            color: #0a0a0a;
            margin-top: 0.25rem;
            text-align: center;
        }

        #output-sub {
            font-size: 1rem;
            font-weight: 500;
            color: #5f5f5f;
            margin-bottom: 3rem;
        }

        .inputs-row {
            display: flex;
            flex-direction: row;
            gap: 1rem;
            width: 100%;
            justify-content: center;
            margin-bottom: 2rem;
        }

        .input-group {
            background: #ffffff;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            padding: 1rem 0.8rem;
            width: 160px;
            min-width: 0;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .input-group input {
            font-size: 1.3rem;
            padding: 0.4rem;
            text-align: center;
            width: 100%;
            border: none;
            border-bottom: 2px solid #e0e0e0;
            background: transparent;
            outline: none;
        }

        .input-label {
            display: block;
            margin-top: 0.6rem;
            font-size: 0.85rem;
            color: #888;
            line-height: 1.2;
        }
        @media (max-width: 600px) {
            .inputs-row {
                flex-direction: column;
                gap: 0.8rem;
                align-items: center;
            }
            .input-group {
                width: 95vw;
                max-width: 340px;
            }
        }
    </style>
</head>
<body>

    <div id="output">
        <div id="output-label">Потрібно малювати</div>
        <div id="output-value">—</div>
        <div id="output-sub">зображень в день</div>
    </div>

    <div class="inputs-row">
      <div class="input-group">
          <input type="number" id="drawn" min="0" value="271">
          <div class="input-label">Вже намальовано зображень</div>
      </div>

      <div class="input-group">
          <input type="number" id="total" min="1" value="365">
          <div class="input-label">Загальна кількість<br>зображень</div>
      </div>

      <div class="input-group">
          <input type="date" id="deadline" value="2025-08-31">
          <div class="input-label">Дата<br>дедлайну</div>
      </div>
    </div>

    <script>
        function update() {
            const drawn = parseFloat(document.getElementById('drawn').value) || 0;
            const total = parseFloat(document.getElementById('total').value) || 0;
            const deadlineStr = document.getElementById('deadline').value;
            const outputValue = document.getElementById('output-value');

            if (!deadlineStr || total <= 0) {
                outputValue.textContent = '—';
                return;
            }

            const today = new Date();
            today.setHours(0, 0, 0, 0);
            const deadline = new Date(deadlineStr);
            const msPerDay = 24 * 60 * 60 * 1000;
            const daysRemaining = Math.floor((deadline - today) / msPerDay);

            if (daysRemaining <= 0) {
                outputValue.textContent = 'X';
                return;
            }

            const remaining = total - drawn;
            if (remaining <= 0) {
                outputValue.textContent = '0';
                return;
            }

            const perDay = remaining / daysRemaining;
            outputValue.textContent = perDay.toFixed(2);
        }

        document.querySelectorAll('#drawn, #total, #deadline').forEach(el => {
            el.addEventListener('input', update);
        });

        window.addEventListener('DOMContentLoaded', update);
    </script>
</body>
</html>
